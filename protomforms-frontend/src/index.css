@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

:root {
  --radius: 0.625rem;
  --background: oklch(1 0 0);
  --foreground: oklch(0.145 0 0);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.145 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.145 0 0);
  --primary: oklch(0.205 0 0);
  --primary-foreground: oklch(0.985 0 0);
  --secondary: oklch(0.97 0 0);
  --secondary-foreground: oklch(0.205 0 0);
  --muted: oklch(0.97 0 0);
  --muted-foreground: oklch(0.556 0 0);
  --accent: oklch(0.97 0 0);
  --accent-foreground: oklch(0.205 0 0);
  --destructive: oklch(0.577 0.245 27.325);
  --border: oklch(0.922 0 0);
  --input: oklch(0.922 0 0);
  --ring: oklch(0.708 0 0);
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.145 0 0);
  --sidebar-primary: oklch(0.205 0 0);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.97 0 0);
  --sidebar-accent-foreground: oklch(0.205 0 0);
  --sidebar-border: oklch(0.922 0 0);
  --sidebar-ring: oklch(0.708 0 0);
}

.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.205 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.205 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.922 0 0);
  --primary-foreground: oklch(0.205 0 0);
  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.269 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.704 0.191 22.216);
  --border: oklch(1 0 0 / 10%);
  --input: oklch(1 0 0 / 15%);
  --ring: oklch(0.556 0 0);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(1 0 0 / 10%);
  --sidebar-ring: oklch(0.556 0 0);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;

    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;

    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;

    --primary: 221.2 83.2% 53.3%;
    --primary-foreground: 210 40% 98%;

    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;

    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;

    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 221.2 83.2% 53.3%;

    --radius: 0.5rem;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;

    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;

    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;

    --primary: 217.2 91.2% 59.8%;
    --primary-foreground: 222.2 47.4% 11.2%;

    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;

    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;

    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;

    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 224.3 76.3% 48%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Custom styles for form pages */
.form-page {
  @apply bg-gradient-to-br from-blue-50 to-indigo-50 min-h-screen;
}

.form-card {
  @apply bg-white shadow-lg rounded-lg border border-blue-100 transition-all duration-300 hover:shadow-xl;
}

.form-card-header {
  @apply bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-4 rounded-t-lg;
}

.form-button-primary {
  @apply bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:from-blue-700 hover:to-indigo-700 transition-all duration-300;
}

.form-button-secondary {
  @apply bg-white text-blue-600 border border-blue-200 hover:bg-blue-50 transition-all duration-300;
}

.form-button-danger {
  @apply bg-gradient-to-r from-red-500 to-red-600 text-white hover:from-red-600 hover:to-red-700 transition-all duration-300;
}

.form-input {
  @apply border-blue-200 focus:border-blue-400 focus:ring-blue-400;
}

.form-label {
  @apply text-blue-900 font-medium;
}

.form-section-title {
  @apply text-blue-900 font-bold text-xl mb-4;
}

.question-card {
  @apply bg-white border border-blue-100 rounded-lg p-4 mb-4 transition-all duration-300 hover:shadow-md;
}

.question-header {
  @apply flex justify-between items-center mb-2;
}

.question-title {
  @apply text-blue-900 font-semibold;
}

.question-type {
  @apply text-blue-600 text-sm;
}

.question-required {
  @apply text-red-500 text-sm font-medium;
}

.question-options {
  @apply space-y-2 mt-2;
}

.question-option {
  @apply flex items-center gap-2 p-2 bg-blue-50 rounded-md;
}

.form-settings-card {
  @apply bg-white border border-blue-100 rounded-lg p-4;
}

.form-settings-title {
  @apply text-blue-900 font-semibold mb-4;
}

.form-settings-item {
  @apply flex justify-between items-center py-2 border-b border-blue-100 last:border-0;
}

.form-settings-label {
  @apply text-blue-800;
}

/* Animations */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.animate-fade-in {
  animation: fadeIn 0.5s ease-in-out;
}

@keyframes slideIn {
  from { transform: translateY(20px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

.animate-slide-in {
  animation: slideIn 0.5s ease-in-out;
}

@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-10px); }
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

@keyframes glow {
  0%, 100% { box-shadow: 0 0 20px rgba(59, 130, 246, 0.3); }
  50% { box-shadow: 0 0 30px rgba(59, 130, 246, 0.5); }
}

.animate-glow {
  animation: glow 2s ease-in-out infinite;
}

/* Fix for date picker popover positioning */
[data-radix-popper-content-wrapper] {
  z-index: 100 !important;
}

/* Ensure popover is clickable */
[data-slot="popover-content"] {
  pointer-events: auto !important;
}

/* Fix calendar weekday header sizing */
.rdp-weekdays {
  display: flex !important;
  width: 100% !important;
  justify-content: space-between !important;
}

.rdp-weekday {
  width: 2.5rem !important;
  min-width: 2.5rem !important;
  max-width: 2.5rem !important;
  height: 2.5rem !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  flex-shrink: 0 !important;
  text-align: center !important;
  padding: 0 !important;
}

.rdp-head_row {
  display: flex !important;
  width: 100% !important;
  justify-content: space-between !important;
}

.rdp-head_cell {
  width: 2.5rem !important;
  min-width: 2.5rem !important;
  max-width: 2.5rem !important;
  height: 2.5rem !important;
  flex-shrink: 0 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  padding: 0 !important;
}

/* Ensure calendar month grid has proper spacing */
.rdp-month_grid {
  width: 100% !important;
}

.rdp-cell {
  width: 2.5rem !important;
  min-width: 2.5rem !important;
  max-width: 2.5rem !important;
  height: 2.5rem !important;
  padding: 0 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

/* Assicura che il giorno odierno sia ben visibile */
.rdp-day_today {
  background-color: hsl(var(--primary) / 0.1) !important;
  color: hsl(var(--primary)) !important;
  font-weight: 600 !important;
  border: 2px solid hsl(var(--primary)) !important;
  border-radius: 0.375rem !important;
}

.rdp-day {
  width: 2.5rem !important;
  height: 2.5rem !important;
  padding: 0 !important;
}

/* Hide scrollbar for Chrome, Safari and Opera */
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* Hide scrollbar for IE, Edge and Firefox */
.scrollbar-hide {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}

/* Smooth scroll globally */
html {
  scroll-behavior: smooth;
}

/* Hide scrollbar in ScrollArea component */
[data-slot="scroll-area-scrollbar"] {
  display: none !important;
}

/* ========================================
   CUSTOMIZATION LAYOUT RESPONSIVE STYLES
   ======================================== */

/* Container principale con altezza responsive */
.customization-layout-container {
  height: calc(92vh - 80px);
  min-height: 500px; /* Altezza minima per garantire usabilità */
}

/* Layout responsive per sidebar e preview */
/* Mobile: stacked layout (non implementato in questa versione) */
@media (max-width: 768px) {
  .customization-layout-container {
    flex-direction: column;
    height: auto;
    min-height: 600px;
  }
  
  .customization-sidebar {
    width: 100% !important;
    height: auto !important;
    min-height: 400px;
    border-right: none !important;
    border-bottom: 1px solid #e5e7eb;
  }
  
  .customization-preview {
    width: 100% !important;
    height: 500px !important;
    min-height: 500px;
  }
}

/* Tablet: 40% sidebar, 60% preview */
@media (min-width: 769px) and (max-width: 1280px) {
  .customization-layout-container {
    height: calc(85vh - 80px);
  }
  
  .customization-sidebar {
    width: 40%;
    height: 100%;
    border-right: 1px solid #e5e7eb;
  }
  
  .customization-preview {
    width: 60%;
    height: 100%;
  }
}

/* Laptop: 35% sidebar, 65% preview */
@media (min-width: 1281px) and (max-width: 1536px) {
  .customization-layout-container {
    height: calc(88vh - 80px);
  }
  
  .customization-sidebar {
    width: 35%;
    height: 100%;
    border-right: 1px solid #e5e7eb;
  }
  
  .customization-preview {
    width: 65%;
    height: 100%;
  }
}

/* Desktop standard (1536px - 1920px): 30% sidebar, 70% preview */
@media (min-width: 1537px) and (max-width: 1920px) {
  .customization-layout-container {
    height: calc(85vh - 80px);
    max-height: 850px; /* Limite massimo per evitare troppo spazio */
  }
  
  .customization-sidebar {
    width: 30%;
    height: 100%;
    border-right: 1px solid #e5e7eb;
  }
  
  .customization-preview {
    width: 70%;
    height: 100%;
  }
}

/* Large Desktop (> 1920px): 25% sidebar, 75% preview con altezza limitata */
@media (min-width: 1921px) {
  .customization-layout-container {
    height: calc(80vh - 80px);
    max-height: 900px; /* Limite massimo per schermi molto grandi */
  }
  
  .customization-sidebar {
    width: 25%;
    min-width: 350px; /* Larghezza minima per mantenere usabilità */
    max-width: 450px; /* Larghezza massima per evitare troppo spazio */
    height: 100%;
    border-right: 1px solid #e5e7eb;
  }
  
  .customization-preview {
    width: 75%;
    flex: 1; /* Riempie lo spazio rimanente */
    height: 100%;
  }
}

/* Extra Large Desktop (> 2560px): ulteriore ottimizzazione */
@media (min-width: 2561px) {
  .customization-layout-container {
    height: calc(75vh - 80px);
    max-height: 1000px;
  }
  
  .customization-sidebar {
    width: 20%;
    min-width: 380px;
    max-width: 500px;
  }
  
  .customization-preview {
    width: 80%;
  }
}

/* Altezza container principale responsive */
@media (min-height: 900px) {
  .customization-layout-container {
    max-height: 850px;
  }
}

@media (min-height: 1080px) {
  .customization-layout-container {
    max-height: 950px;
  }
}

@media (min-height: 1440px) {
  .customization-layout-container {
    max-height: 1100px;
  }
}

/* Nascondi scrollbar per Chrome, Safari e Edge */
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}